<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Import (from csv, txt, and excel) and Saving Data Frames | Introduction to Statistics</title>
  <meta name="description" content="Chapter 4 Data Import (from csv, txt, and excel) and Saving Data Frames | Introduction to Statistics" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Import (from csv, txt, and excel) and Saving Data Frames | Introduction to Statistics" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Import (from csv, txt, and excel) and Saving Data Frames | Introduction to Statistics" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="seminar3.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="lib/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="js/codefolding.js"></script>


<script>
$(document).ready(function () {
  window.initializeCodeFolding();
});
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="lib\bootstrap\3.3.7\css\bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="css\readthedocs.css" type="text/css" />
<link rel="stylesheet" href="css\custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this course</a></li>
<li class="chapter" data-level="1" data-path="seminar1.html"><a href="seminar1.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="seminar1.html"><a href="seminar1.html#learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Learning objectives</a><ul>
<li class="chapter" data-level="1.1.1" data-path="seminar1.html"><a href="seminar1.html#what-is-r"><i class="fa fa-check"></i><b>1.1.1</b> What is R?</a></li>
<li class="chapter" data-level="1.1.2" data-path="seminar1.html"><a href="seminar1.html#rstudio"><i class="fa fa-check"></i><b>1.1.2</b> RStudio</a></li>
<li class="chapter" data-level="1.1.3" data-path="seminar1.html"><a href="seminar1.html#console"><i class="fa fa-check"></i><b>1.1.3</b> Console</a></li>
<li class="chapter" data-level="1.1.4" data-path="seminar1.html"><a href="seminar1.html#scripts"><i class="fa fa-check"></i><b>1.1.4</b> Scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="seminar2.html"><a href="seminar2.html"><i class="fa fa-check"></i><b>2</b> Data Stuctures and Data Types</a><ul>
<li class="chapter" data-level="2.1" data-path="seminar2.html"><a href="seminar2.html#seminar"><i class="fa fa-check"></i><b>2.1</b> Seminar</a><ul>
<li class="chapter" data-level="2.1.1" data-path="seminar2.html"><a href="seminar2.html#functions"><i class="fa fa-check"></i><b>2.1.1</b> Functions</a></li>
<li class="chapter" data-level="2.1.2" data-path="seminar2.html"><a href="seminar2.html#getting-help"><i class="fa fa-check"></i><b>2.1.2</b> Getting Help</a></li>
<li class="chapter" data-level="2.1.3" data-path="seminar2.html"><a href="seminar2.html#the-assignment-operator"><i class="fa fa-check"></i><b>2.1.3</b> The Assignment Operator</a></li>
<li class="chapter" data-level="2.1.4" data-path="seminar2.html"><a href="seminar2.html#vectors-and-subsetting"><i class="fa fa-check"></i><b>2.1.4</b> Vectors and subsetting</a></li>
<li class="chapter" data-level="2.1.5" data-path="seminar2.html"><a href="seminar2.html#matrices"><i class="fa fa-check"></i><b>2.1.5</b> Matrices</a></li>
<li class="chapter" data-level="2.1.6" data-path="seminar2.html"><a href="seminar2.html#arrays"><i class="fa fa-check"></i><b>2.1.6</b> Arrays</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="seminar3.html"><a href="seminar3.html"><i class="fa fa-check"></i><b>3</b> Creating and Exploring Data Frames</a><ul>
<li class="chapter" data-level="3.1" data-path="seminar3.html"><a href="seminar3.html#seminar-1"><i class="fa fa-check"></i><b>3.1</b> Seminar</a><ul>
<li class="chapter" data-level="3.1.1" data-path="seminar3.html"><a href="seminar3.html#clearing-your-workspace-from-previous-work"><i class="fa fa-check"></i><b>3.1.1</b> Clearing your workspace from previous work</a></li>
<li class="chapter" data-level="3.1.2" data-path="seminar3.html"><a href="seminar3.html#creating-data-frames"><i class="fa fa-check"></i><b>3.1.2</b> Creating data frames</a></li>
<li class="chapter" data-level="3.1.3" data-path="seminar3.html"><a href="seminar3.html#working-with-data-frames"><i class="fa fa-check"></i><b>3.1.3</b> Working with data frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="seminar4.html"><a href="seminar4.html"><i class="fa fa-check"></i><b>4</b> Data Import (from csv, txt, and excel) and Saving Data Frames</a><ul>
<li class="chapter" data-level="4.1" data-path="seminar4.html"><a href="seminar4.html#seminar-2"><i class="fa fa-check"></i><b>4.1</b> Seminar</a><ul>
<li class="chapter" data-level="4.1.1" data-path="seminar4.html"><a href="seminar4.html#setting-up"><i class="fa fa-check"></i><b>4.1.1</b> Setting up</a></li>
<li class="chapter" data-level="4.1.2" data-path="seminar4.html"><a href="seminar4.html#loading-data"><i class="fa fa-check"></i><b>4.1.2</b> Loading data</a></li>
<li class="chapter" data-level="4.1.3" data-path="seminar4.html"><a href="seminar4.html#importing-a-dataset-in-.csv-format"><i class="fa fa-check"></i><b>4.1.3</b> Importing a dataset in <code>.csv</code> format</a></li>
<li class="chapter" data-level="4.1.4" data-path="seminar4.html"><a href="seminar4.html#importing-a-dataset-in-excel-xlsx-format"><i class="fa fa-check"></i><b>4.1.4</b> Importing a dataset in Excel (xlsx) format</a></li>
<li class="chapter" data-level="4.1.5" data-path="seminar4.html"><a href="seminar4.html#importing-a-dataset-in-rdata-format"><i class="fa fa-check"></i><b>4.1.5</b> Importing a dataset in RData format</a></li>
<li class="chapter" data-level="4.1.6" data-path="seminar4.html"><a href="seminar4.html#importing-a-dataset-in-.txt-format."><i class="fa fa-check"></i><b>4.1.6</b> Importing a dataset in .txt format.</a></li>
<li class="chapter" data-level="4.1.7" data-path="seminar4.html"><a href="seminar4.html#saving-data-frames"><i class="fa fa-check"></i><b>4.1.7</b> Saving data frames</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Statistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-import-from-csv-txt-and-excel-and-saving-data-frames" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Data Import (from csv, txt, and excel) and Saving Data Frames</h1>
<div id="seminar-2" class="section level2">
<h2><span class="header-section-number">4.1</span> Seminar</h2>
<p>In this section, we will learn how to check and set our working directory, load data in csv, txt, excel and R format, and then save our data frame.</p>
<div id="setting-up" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Setting up</h3>
<p>We set our working directory. R operates in specific directory (folder) on our computer. We create a folder on where we save our scripts. We name the folder <code>Stats101</code>. Let’s create the folder on our computers now (in finder on Mac and explorer on Windows).</p>
<p>Now, we set our working directory to the folder, we just created like so:</p>
<p><img src="img/setwdir.PNG" /></p>
<p>Create a new R script and save it as day1.R to your <code>Stats101</code> directory.</p>
<p>At the beginning of each new script, we want to clear the workspace. The workspace is stored in working memory on our computer. If we do not clear it for a new script, it becomes too full over time. Our computer will slow down and it will become difficult for us to know which objects are stored in working memory.</p>
<p>Again, as we are starting a new script we should check the contents of our workspace like so:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1"><span class="co"># check workspace</span></a>
<a class="sourceLine" id="cb72-2" title="2"><span class="kw">ls</span>()</a></code></pre></div>
<p>Again to remove a specific object, we use the <code>rm()</code> function which stands for remove. Within the round brackets, we put the name of the object we want to remove. We could remove the object <code>a</code> like so:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" title="1"><span class="co"># delete variable &#39;a&#39; from workspace</span></a>
<a class="sourceLine" id="cb73-2" title="2"><span class="kw">rm</span>(a)</a></code></pre></div>
<p>At the beginning of each script, we should always clear the entire workspace. We can do so in the following way:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1"><span class="co"># delete everything from workspace</span></a>
<a class="sourceLine" id="cb74-2" title="2"><span class="kw">rm</span>( <span class="dt">list =</span> <span class="kw">ls</span>() )</a></code></pre></div>
<p>You can also clear text from the console window. To do so press Crtl+l on Windows or Command+l on Mac.</p>
</div>
<div id="loading-data" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Loading data</h3>
<p>Data comes in different file formats such as <code>.txt</code>, <code>.csv</code>, <code>.xlsx</code>, <code>.RData</code>, <code>.dta</code> and many more. To know the file type of a file right click on it and view preferences (in Windows explorer or Mac finder).</p>
<p>R can load files coming in many different file formats. To find out how to import a file coming in a specific format, it is usually a good idea to the google “R load file_format”.</p>
</div>
<div id="importing-a-dataset-in-.csv-format" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Importing a dataset in <code>.csv</code> format</h3>
<p>One of the most common file types is <code>.csv</code> which means comma separated values. Columns are separated by commas and rows by line breaks.</p>
<p>Essentially, its best to work with this data format as it can be easily loaded into R, but also easy opening outside of R.</p>
<p>The dataset’s name is “non_western_immigrants.csv”. To load it, we use the <code>read.csv()</code> function.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1">dat1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;non_western_immigrants.csv&quot;</span>)</a></code></pre></div>
</div>
<div id="importing-a-dataset-in-excel-xlsx-format" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Importing a dataset in Excel (xlsx) format</h3>
<p>Another common file format is Microsoft’s Excel <code>xlsx</code> format. We will load a dataset in this format now. To do so, we will need to install a package first. Packages are additional functions that we can add to R. A package is like an app on our phones.</p>
<p>We install the <code>readxl</code> package using <code>install.packages("readxl")</code>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" title="1"><span class="kw">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</a></code></pre></div>
<p>We only need to install a package once. It does not hurt to do it more often though, because every time we install, it will install the most recent version of the package.</p>
<p>Once a package is installed, we need to load it using the <code>library()</code> function.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" title="1"><span class="kw">library</span>(readxl)</a></code></pre></div>
<p>To load the excel file, we can now use the <code>read_excel()</code> function that is included in the <code>readxl</code> library. We need to provide the following arguments to the function:</p>
<table>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>path</td>
<td>Filename of excel sheet</td>
</tr>
<tr class="even">
<td>sheet</td>
<td>Sheet number to import</td>
</tr>
</tbody>
</table>
<p>Now, let’s load the file:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" title="1">dat2 &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;non_western_immigrants.xlsx&quot;</span>, <span class="dt">sheet =</span> <span class="dv">1</span>)</a></code></pre></div>
</div>
<div id="importing-a-dataset-in-rdata-format" class="section level3">
<h3><span class="header-section-number">4.1.5</span> Importing a dataset in RData format</h3>
<p>The native file format of R is called <code>.RData</code>. To load files saved in this format, we use the <code>load()</code> function like so:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1"><span class="kw">load</span>(<span class="dt">file =</span> <span class="st">&quot;non_western_immigrants.RData&quot;</span>)</a></code></pre></div>
<p>Notice that we usually need to assign the object we load to using the <code>&lt;-</code> operator. The <code>load()</code> function is an exception where we do not need to do this.</p>
</div>
<div id="importing-a-dataset-in-.txt-format." class="section level3">
<h3><span class="header-section-number">4.1.6</span> Importing a dataset in .txt format.</h3>
<p>Loading a dataset that comes in .txt format requires some additional information. The format is a text format and we need to know how the columns are separated. Usually it is enough to open the file in a word processor such as notepad to see how this is done. The most common ways to separate columns is by using commas or tabs but other separators such as for instance semicolons are sometimes also used.</p>
<p>In our example, columns are separated by semicolons. We use the <code>read.table()</code> function and provide the following arguments:</p>
<table>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>file</td>
<td>Filename of excel sheet</td>
</tr>
<tr class="even">
<td>sep</td>
<td>the symbol that separates columns</td>
</tr>
<tr class="odd">
<td>header</td>
<td>whether the first row contains variable names or not</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" title="1">dat3 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;non_western_immigrants.txt&quot;</span>, <span class="dt">sep =</span><span class="st">&quot;;&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="saving-data-frames" class="section level3">
<h3><span class="header-section-number">4.1.7</span> Saving data frames</h3>
<p>Datasets can be exported in many different file formats. We recommend exporting files as “.csv” files because csv is a very common file type. Such files can be handled by all statistical packages including Microsoft’s Excel. We need to provide five arguments.</p>
<table>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>x</td>
<td>The name of the object</td>
</tr>
<tr class="even">
<td>file</td>
<td>The file name</td>
</tr>
<tr class="odd">
<td>sep</td>
<td>The symbol that separates columns</td>
</tr>
<tr class="even">
<td>col.names</td>
<td>= TRUE saves the variable names (recommended)</td>
</tr>
<tr class="odd">
<td>row.names</td>
<td>= FALSE omits the row names (recommended)</td>
</tr>
</tbody>
</table>
<p>Lets save the data we have open on pereceptions of non-western immigration. It is important to select a new file name, i.e. “newdata.csv”, otherwise R overwrites the original dataframe and data may be lost. If updating a dataframe, it is good practice to save a file as V1.0, then V1.1 and so on. Let’s try this below:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1"><span class="kw">write.table</span>(dat3, </a>
<a class="sourceLine" id="cb81-2" title="2">            <span class="dt">file =</span> <span class="st">&quot;non_western_immigrants_V1.1.csv&quot;</span>,</a>
<a class="sourceLine" id="cb81-3" title="3">            <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>,</a>
<a class="sourceLine" id="cb81-4" title="4">            <span class="dt">row.names =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb81-5" title="5">            <span class="dt">col.names =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb81-6" title="6">)</a></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="seminar3.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["stats101.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
