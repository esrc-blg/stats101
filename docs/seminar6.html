<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Correlations and differences in means | Introduction to Statistics</title>
  <meta name="description" content="Chapter 6 Correlations and differences in means | Introduction to Statistics" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Correlations and differences in means | Introduction to Statistics" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Correlations and differences in means | Introduction to Statistics" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="seminar5.html">
<link rel="next" href="seminar9.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="lib/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="js/codefolding.js"></script>


<script>
$(document).ready(function () {
  window.initializeCodeFolding();
});
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="lib\bootstrap\3.3.7\css\bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="css\readthedocs.css" type="text/css" />
<link rel="stylesheet" href="css\custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this course</a></li>
<li class="chapter" data-level="1" data-path="seminar1.html"><a href="seminar1.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="seminar1.html"><a href="seminar1.html#learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Learning objectives</a><ul>
<li class="chapter" data-level="1.1.1" data-path="seminar1.html"><a href="seminar1.html#what-is-r"><i class="fa fa-check"></i><b>1.1.1</b> What is R?</a></li>
<li class="chapter" data-level="1.1.2" data-path="seminar1.html"><a href="seminar1.html#rstudio"><i class="fa fa-check"></i><b>1.1.2</b> RStudio</a></li>
<li class="chapter" data-level="1.1.3" data-path="seminar1.html"><a href="seminar1.html#console"><i class="fa fa-check"></i><b>1.1.3</b> Console</a></li>
<li class="chapter" data-level="1.1.4" data-path="seminar1.html"><a href="seminar1.html#scripts"><i class="fa fa-check"></i><b>1.1.4</b> Scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="seminar2.html"><a href="seminar2.html"><i class="fa fa-check"></i><b>2</b> Data Stuctures and Data Types</a><ul>
<li class="chapter" data-level="2.1" data-path="seminar2.html"><a href="seminar2.html#seminar"><i class="fa fa-check"></i><b>2.1</b> Seminar</a><ul>
<li class="chapter" data-level="2.1.1" data-path="seminar2.html"><a href="seminar2.html#functions"><i class="fa fa-check"></i><b>2.1.1</b> Functions</a></li>
<li class="chapter" data-level="2.1.2" data-path="seminar2.html"><a href="seminar2.html#getting-help"><i class="fa fa-check"></i><b>2.1.2</b> Getting Help</a></li>
<li class="chapter" data-level="2.1.3" data-path="seminar2.html"><a href="seminar2.html#the-assignment-operator"><i class="fa fa-check"></i><b>2.1.3</b> The Assignment Operator</a></li>
<li class="chapter" data-level="2.1.4" data-path="seminar2.html"><a href="seminar2.html#vectors-and-subsetting"><i class="fa fa-check"></i><b>2.1.4</b> Vectors and subsetting</a></li>
<li class="chapter" data-level="2.1.5" data-path="seminar2.html"><a href="seminar2.html#matrices"><i class="fa fa-check"></i><b>2.1.5</b> Matrices</a></li>
<li class="chapter" data-level="2.1.6" data-path="seminar2.html"><a href="seminar2.html#arrays"><i class="fa fa-check"></i><b>2.1.6</b> Arrays</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="seminar3.html"><a href="seminar3.html"><i class="fa fa-check"></i><b>3</b> Creating and Exploring Data Frames</a><ul>
<li class="chapter" data-level="3.1" data-path="seminar3.html"><a href="seminar3.html#seminar-1"><i class="fa fa-check"></i><b>3.1</b> Seminar</a><ul>
<li class="chapter" data-level="3.1.1" data-path="seminar3.html"><a href="seminar3.html#clearing-your-workspace-from-previous-work"><i class="fa fa-check"></i><b>3.1.1</b> Clearing your workspace from previous work</a></li>
<li class="chapter" data-level="3.1.2" data-path="seminar3.html"><a href="seminar3.html#creating-data-frames"><i class="fa fa-check"></i><b>3.1.2</b> Creating data frames</a></li>
<li class="chapter" data-level="3.1.3" data-path="seminar3.html"><a href="seminar3.html#working-with-data-frames"><i class="fa fa-check"></i><b>3.1.3</b> Working with data frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="seminar4.html"><a href="seminar4.html"><i class="fa fa-check"></i><b>4</b> Data Import (from csv, txt, and excel) and Saving Data Frames</a><ul>
<li class="chapter" data-level="4.1" data-path="seminar4.html"><a href="seminar4.html#seminar-2"><i class="fa fa-check"></i><b>4.1</b> Seminar</a><ul>
<li class="chapter" data-level="4.1.1" data-path="seminar4.html"><a href="seminar4.html#setting-up"><i class="fa fa-check"></i><b>4.1.1</b> Setting up</a></li>
<li class="chapter" data-level="4.1.2" data-path="seminar4.html"><a href="seminar4.html#loading-data"><i class="fa fa-check"></i><b>4.1.2</b> Loading data</a></li>
<li class="chapter" data-level="4.1.3" data-path="seminar4.html"><a href="seminar4.html#importing-a-dataset-in-.csv-format"><i class="fa fa-check"></i><b>4.1.3</b> Importing a dataset in <code>.csv</code> format</a></li>
<li class="chapter" data-level="4.1.4" data-path="seminar4.html"><a href="seminar4.html#importing-a-dataset-in-excel-xlsx-format"><i class="fa fa-check"></i><b>4.1.4</b> Importing a dataset in Excel (xlsx) format</a></li>
<li class="chapter" data-level="4.1.5" data-path="seminar4.html"><a href="seminar4.html#importing-a-dataset-in-rdata-format"><i class="fa fa-check"></i><b>4.1.5</b> Importing a dataset in RData format</a></li>
<li class="chapter" data-level="4.1.6" data-path="seminar4.html"><a href="seminar4.html#importing-a-dataset-in-.txt-format."><i class="fa fa-check"></i><b>4.1.6</b> Importing a dataset in .txt format.</a></li>
<li class="chapter" data-level="4.1.7" data-path="seminar4.html"><a href="seminar4.html#saving-data-frames"><i class="fa fa-check"></i><b>4.1.7</b> Saving data frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="seminar5.html"><a href="seminar5.html"><i class="fa fa-check"></i><b>5</b> Descriptive Statistics</a><ul>
<li class="chapter" data-level="5.1" data-path="seminar5.html"><a href="seminar5.html#seminar-3"><i class="fa fa-check"></i><b>5.1</b> Seminar</a><ul>
<li class="chapter" data-level="5.1.1" data-path="seminar5.html"><a href="seminar5.html#central-tendency"><i class="fa fa-check"></i><b>5.1.1</b> Central tendency</a></li>
<li class="chapter" data-level="5.1.2" data-path="seminar5.html"><a href="seminar5.html#dispersion"><i class="fa fa-check"></i><b>5.1.2</b> Dispersion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="seminar6.html"><a href="seminar6.html"><i class="fa fa-check"></i><b>6</b> Correlations and differences in means</a><ul>
<li class="chapter" data-level="6.1" data-path="seminar6.html"><a href="seminar6.html#seminar-4"><i class="fa fa-check"></i><b>6.1</b> Seminar</a><ul>
<li class="chapter" data-level="6.1.1" data-path="seminar6.html"><a href="seminar6.html#bivariate-relationships"><i class="fa fa-check"></i><b>6.1.1</b> Bivariate relationships</a></li>
<li class="chapter" data-level="6.1.2" data-path="seminar6.html"><a href="seminar6.html#hypothesis-testing"><i class="fa fa-check"></i><b>6.1.2</b> Hypothesis testing</a></li>
<li class="chapter" data-level="6.1.3" data-path="seminar6.html"><a href="seminar6.html#t-test-difference-in-means"><i class="fa fa-check"></i><b>6.1.3</b> T-test (difference in means)</a></li>
<li class="chapter" data-level="6.1.4" data-path="seminar6.html"><a href="seminar6.html#relationships-between-continuous-variables"><i class="fa fa-check"></i><b>6.1.4</b> Relationships between continuous variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="seminar9.html"><a href="seminar9.html"><i class="fa fa-check"></i><b>7</b> Regression</a><ul>
<li class="chapter" data-level="7.1" data-path="seminar9.html"><a href="seminar9.html#seminar-5"><i class="fa fa-check"></i><b>7.1</b> Seminar</a><ul>
<li class="chapter" data-level="7.1.1" data-path="seminar9.html"><a href="seminar9.html#bivariate-linear-regression"><i class="fa fa-check"></i><b>7.1.1</b> Bivariate linear regression</a></li>
<li class="chapter" data-level="7.1.2" data-path="seminar9.html"><a href="seminar9.html#interpreting-regression-output"><i class="fa fa-check"></i><b>7.1.2</b> Interpreting Regression Output</a></li>
<li class="chapter" data-level="7.1.3" data-path="seminar9.html"><a href="seminar9.html#multivariate-linear-regression"><i class="fa fa-check"></i><b>7.1.3</b> Multivariate linear regression</a></li>
<li class="chapter" data-level="7.1.4" data-path="seminar9.html"><a href="seminar9.html#additional-resources"><i class="fa fa-check"></i><b>7.1.4</b> Additional Resources</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Statistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="correlations-and-differences-in-means" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Correlations and differences in means</h1>
<div id="seminar-4" class="section level2">
<h2><span class="header-section-number">6.1</span> Seminar</h2>
<p>In this session, we will cover bivariate relationships, that is relationships between two variables. For relationships between two continuous variables, we will look at correlations and plots and for relationships between a continuous dependent variable and a binary independent variable, we will look at differences in means.</p>
<div id="bivariate-relationships" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Bivariate relationships</h3>
<p>In data analysis we are mostly interested in understanding the relationships between two (or more) variables. For instance, between a predictor (independent variable) and an outcome of interest (dependent variable). Summary statistics are often the first steps in trying to understand relationships between variables.</p>
<p>Initially we might want to visualise a relationship between an independent variable and a dependent variable (outcome). For example, we might want to see how two categories are related to an outcome of interest.</p>
<p>Again, as good practice, let’s first clear our workspace before we start:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>( <span class="dt">list =</span> <span class="kw">ls</span>() )</code></pre>
<p>Let’s open the data again:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;non_western_immigrants.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
<span class="kw">dim</span> (dat1)</code></pre>
<pre><code>[1] 1049   13</code></pre>
<p>Here we will compare if there are differences in perceptions of non-Western immigrants between those that identify with the Convervatives and those that support the Labour party.</p>
<p>We need to first create two new dummy variables from the categorical variable that lists identified political parties. These two binary variables will tell us observations where someone identifies with the Conservatives (1=yes and 0 = no) and the same for the Labour party (1=yes and 0=no). Here we have to use the ifelse function:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat1<span class="op">$</span>conservatives &lt;-<span class="st"> </span><span class="kw">ifelse</span>(dat1<span class="op">$</span>party_self <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">yes =</span> <span class="dv">1</span>, <span class="dt">no =</span> <span class="dv">0</span>)
dat1<span class="op">$</span>labour &lt;-<span class="st"> </span><span class="kw">ifelse</span>(dat1<span class="op">$</span>party_self <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dt">yes =</span> <span class="dv">1</span>, <span class="dt">no =</span> <span class="dv">0</span>)</code></pre>
<p>So we create new variables within our dataframe using categories from the party_self variable. == 1 is the category we are choosing. If the ifelse statement is true, they do identify with that party, we code yes as a 1 and no as a 0.</p>
<p>We can now run plots for the Conservatives and Labour party. We need to select the arguments as before, including appropriate colours for the parties. Here we also set the ylim to show a scale of the data from 0-100. First for the Conservative party and then for the Labour party:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># separte plot window into 1 row and 2 columns</span>
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))

<span class="kw">boxplot</span>(
  dat1<span class="op">$</span>IMMBRIT[dat1<span class="op">$</span>conservatives<span class="op">==</span><span class="dv">1</span>],
  <span class="dt">frame.plot =</span> <span class="ot">FALSE</span>,
  <span class="dt">xlab =</span> <span class="st">&quot;Conservatives&quot;</span>,
  <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>),
  <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>
)

<span class="kw">boxplot</span>(
  dat1<span class="op">$</span>IMMBRIT[dat1<span class="op">$</span>labour<span class="op">==</span><span class="dv">1</span>],
  <span class="dt">frame.plot =</span> <span class="ot">FALSE</span>,
  <span class="dt">xlab =</span> <span class="st">&quot;Labour&quot;</span>,
  <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>),
  <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>
)</code></pre>
<p><img src="stats101_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
<p>Note: If you want to reset the plot window to one row and 1 column you need to run <code>par(mfrow=c(1,1)</code>.</p>
<p>Overall, there appears to be very little difference between the Conservatives and Labour distributions in regards to perceptions of non-Western immigrants. The dots at the top of the scale represent outlier cases, where perceptions overestimate the number of immigrants.</p>
<p>The higher values for the Labour party could be due to high Labour support in diverse urban centres such as London. Yet, these are just samples and a snapshot of the possible relationship.Samples are never the same and vary. For instance, crime is not statistic and will vary over time and space.</p>
<p>Can we be sure that this result did not simply occur by chance?</p>
<p>This brings us to the importance of hypothesis testing.</p>
</div>
<div id="hypothesis-testing" class="section level3">
<h3><span class="header-section-number">6.1.2</span> Hypothesis testing</h3>
<p>Because relationships can occur by chance, hypotheis testing is central to statistics. The first step is to form our own hypothesis about a potential relationship between variables and then compare this against what is known as the null hypothesis. The null hypothesis represents the notion that nothing special has occured and that the relationship we are observing has only occured by chance, i.e. getting heads when flipping a coin.</p>
<p>In the lecture slides, we cover this by exploring the Lady Tea Tasting Test (Fisher, 1925). When running statistics in R and other statistical packages, most models report a t-statistic and p-value, which we then informs us of whether we should reject the null hypothesis.</p>
<p>The t-statistic is easy to interpret. While we know 1 standard deviation from the mean represents 68% of the distribution, more than 1.96 deviations is more than 95% of the distribution. Therefore, if the t-statistic is higher than an absolute value of 1.96 (either 1.96 or -1.96), then the estimate we observe falls outside 95% of possible resampled estimations and is simply too rare to have occured by chance.</p>
<p>The p-value is based on the t-statistic and provides the actually probability that a estimate occured by chance.
In most fields of research, the conventional threshold for a p-value is less than 0.05.This implies we will incorrectly reject the null hypothesis less than 5% of the time.
A p-value of 0.01 implies we will incorrectly reject the null hypothesis 1% of the time. So the lower the p-value, the more confidence we can have in our estimate.
If we reject the null hypothesis then the relationship we observe is statistically significant.</p>
<p>Let’s move on to a t-test to assess and outcome and whether two categories are statistically significant from one another. Here we explore difference between two estimated means.</p>
</div>
<div id="t-test-difference-in-means" class="section level3">
<h3><span class="header-section-number">6.1.3</span> T-test (difference in means)</h3>
<p>We are interested in whether there is a difference in income between countries that have an history of colonialisation and those that do not. Put more formally, we are interested in the difference between two conditional means. Recall that a conditional mean is the mean in a subpopulation, such as the mean of income given that the country was a victim of colonialisation (conditional mean 1).</p>
<p>The t-test is the appropriate test-statistic. Our interval-level dependent variable is <code>wdi_gdpc</code> which is GDP per capita taken from the World Development Indicators of the World Bank. Our binary independent variable is <code>h_j</code>.</p>
<p>Let’s check the summary statistics of our dependent variable GDP per captia using the <a href="https://www.rdocumentation.org/packages/base/versions/3.4.1/topics/summary"><code>summary()</code></a>. It returns several descriptive statistics as well as the number of NA observations (missing values). Missing values mean that we have no information on the correct value of the variable for an observation. Missing values may be missing for many different reasons. We need to be aware of missings because we cannot calculate with missings.</p>
<p>Lets bring the data in:]</p>
<pre class="sourceCode r"><code class="sourceCode r">dat2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;QoG2012.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(dat2<span class="op">$</span>wdi_gdpc)</code></pre>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
  226.2  1768.0  5326.1 10184.1 12976.5 63686.7      16 </code></pre>
<p>We use the <code>which()</code> function to identify the row-numbers of the countries in our dataset that have a colonial history. The code below returns the row index numbers of countries with a history of colonialisation.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which</span>(dat2<span class="op">$</span>former_col <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</code></pre>
<pre><code>  [1]   3   5   6   8  11  12  13  15  17  18  20  21  22  23  24  26  27
 [18]  29  30  32  33  34  35  36  39  40  41  42  43  45  46  48  50  51
 [35]  52  53  54  56  58  61  62  64  66  67  69  70  71  72  73  74  77
 [52]  78  80  84  85  88  89  92  94  95  96  99 103 104 105 106 107 109
 [69] 110 111 116 117 118 119 120 123 125 126 127 129 130 131 132 133 134
 [86] 135 136 137 140 142 145 146 147 148 150 152 154 155 156 158 160 161
[103] 162 164 165 166 169 172 173 174 175 176 179 180 183 185 187 188 190
[120] 191 192 194</code></pre>
<p>Now, we can explore conditional means. Below we access the variable that we want (<code>wdi_gdpc</code>) with the dollar sign and the rows in square brackets. The code below returns the per capita wealth of the countries with a colonial history:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>( dat2<span class="op">$</span>wdi_gdpc[dat2<span class="op">$</span>former_col <span class="op">==</span><span class="st"> </span><span class="dv">1</span>], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>[1] 6599.714</code></pre>
<p>Now, go ahead and find the mean per capita wealth of countries without a colonial history:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>( dat2<span class="op">$</span>wdi_gdpc[dat2<span class="op">$</span>former_col <span class="op">==</span><span class="st"> </span><span class="dv">0</span>], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>[1] 16415.39</code></pre>
<p>There is a clear numeric difference. Countries with a colonial history do appear to be significantly poorer.</p>
<p>However, we know that samples are subject to sampling variability. We therefore need to quantify the uncertainty that results from variable samples. To assess whether we can be reasonably sure that the difference between the estimates of wealth is not due to a strange sample or by chance, we carry out the t test to assess if there is a statistically significant difference between these populations:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">t.test</span>(dat2<span class="op">$</span>wdi_gdpc[dat2<span class="op">$</span>former_col <span class="op">==</span><span class="st"> </span><span class="dv">1</span>], dat2<span class="op">$</span>wdi_gdpc[dat2<span class="op">$</span>former_col <span class="op">==</span><span class="st"> </span><span class="dv">0</span>],
       <span class="dt">mu =</span> <span class="dv">0</span>, <span class="dt">alt =</span> <span class="st">&quot;two.sided&quot;</span>, <span class="dt">conf =</span> <span class="fl">0.95</span>)</code></pre>
<pre><code>
    Welch Two Sample t-test

data:  dat2$wdi_gdpc[dat2$former_col == 1] and dat2$wdi_gdpc[dat2$former_col == 0]
t = -5.0603, df = 101.69, p-value = 1.866e-06
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -13663.313  -5968.043
sample estimates:
mean of x mean of y 
 6599.714 16415.392 </code></pre>
<p>Let’s interpret the results we get from <code>t.test()</code>. In our example the question is: Do countries with a former colonial history have different mean income levels than countries without colonial history?</p>
<p>The dependent variable is income, while the indepedent variable is where a country has a colonial history.</p>
<p>We know that when the t-statistic is greater then 1.96 or than -1.96, then we can safely reject the null hypothesis, i.e. it is less than 5% likely the estimate occured by chance. The p-value gives us a more direct probability of us wrongly rejecting the null hypothesis of <code>1.866e-06</code>which means a p-value of <code>0.000001866</code>!!!</p>
<p>In the next line you see the 95% confidence interval because we specified <code>conf=0.95</code>. If you were to take 100 samples and in each you checked the means of the two groups, 95 times the difference in means would be within the interval you see there.</p>
<p>At the very bottom you see the means of the dependent variable by the two groups of the independent variable. These are the conditional means that we estimated above. By minusing the $6599.7 from $16414.4, we know that former colonial countries are on average $9814.70 worst off!</p>
</div>
<div id="relationships-between-continuous-variables" class="section level3">
<h3><span class="header-section-number">6.1.4</span> Relationships between continuous variables</h3>
<p>One way to explore the relationship between two continous variables is to use correlation. This is a widely used as a summary statistic. Correlation is a measure of <strong>linear</strong> association. It can take values between -1 and +1. Where -1 is a perfect negative relationship, 0 is a no relationship and +1 is a perfect positive relationship. 0 means there is no relationship, as would be expected if the null hypothesis was true.</p>
<p>We estimate the correlation coefficient in the following:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(<span class="dt">y =</span> dat2<span class="op">$</span>undp_hdi, <span class="dt">x =</span> dat2<span class="op">$</span>wbgi_cce, <span class="dt">use =</span> <span class="st">&quot;complete.obs&quot;</span>)</code></pre>
<pre><code>[1] 0.6821114</code></pre>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>x</code></td>
<td>The independent variable that you want to correlate.</td>
</tr>
<tr class="even">
<td><code>y</code></td>
<td>The dependent variable that you want to correlate.</td>
</tr>
<tr class="odd">
<td><code>use</code></td>
<td>How R should handle missing values. <code>use="complete.obs"</code> will use only those rows where neither <code>x</code> nor <code>y</code> is missing.</td>
</tr>
</tbody>
</table>
<p>The interpretation of the correlation coefficient is that there is a positive relationship. However, the correlation coefficients does not tell us the magnitude of the relationship.</p>
<p>Another weakness is that it is a measure of linear association only. That means, there could be a curvilinear (or non-linear) realtionship which we miss (for instance a u-shaped relationship).</p>
<p>Often the best way to get a sense for the relationship beetween two continuous variables is visual inspection using a scatter plot. The human development index measures the quality of life and the World Bank Control of Corruption Index is a measure for the quality if institutions. We want to evaluate whether the two variables are related at all. Here, we could form the hypothesis that better insitutions improve the quality of life of citizens.</p>
<p>To investigate this relationship, we construct a scatterplot.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(
  <span class="dt">x =</span> dat2<span class="op">$</span>wbgi_cce,
  <span class="dt">y =</span> dat2<span class="op">$</span>undp_hdi,
  <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">3</span>),
  <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),
  <span class="dt">frame =</span> <span class="ot">FALSE</span>,
  <span class="dt">xlab =</span> <span class="st">&quot;World Bank Control of Corruption Index&quot;</span>,
  <span class="dt">ylab =</span> <span class="st">&quot;UNDP Human Development Index&quot;</span>,
  <span class="dt">main =</span> <span class="st">&quot;Relationship b/w Quality of Institutions and Quality of Life&quot;</span>,
  <span class="dt">pch =</span> <span class="dv">16</span>,
  <span class="dt">col =</span> <span class="st">&quot;darkgray&quot;</span>
)</code></pre>
<p><img src="stats101_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
<p>The plot will give you a good idea whether about whether these two variables are related or not. Sometimes, the correleation coefficient is reported.</p>
<p>Overall, summary statistics are an important step in understanding the relationship between variables and whether such relationships occur by chance. However, this does not tell us much about the magnitude of the relationships we seek to explore. For this we must switch our attention to linear regression, which provides coefficients that can be interpreted as the extent to which a independent variable impacts a dependent variable. Linear regression also allows us to control for other independent variables which may also explain our dependent variable, i.e. alternative explainations of the outcome we are exploring.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="seminar5.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="seminar9.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["stats101.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
